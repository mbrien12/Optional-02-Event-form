if (self.CavalryLogger) { CavalryLogger.start_js(["o004+"]); }

__d("ChatSidebarSections",[],(function a(b,c,d,e,f,g){f.exports={ADMINED_PAGES:"admined_pages",GROUP_PAGES:"group_pages",MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list",NEARBY:"nearby",WORKPLACE_BOTS:"workplace_bots",WORKPLACE_OTHERS:"workplace_others",PYMM:"pymm"}}),null);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","LastActiveTimes","PresenceStatus","debounceAcrossTransitions","ClientChromeExperimentsData"],(function a(b,c,d,e,f,g){var h=c("ClientChromeExperimentsData").ClientChromeAvailableListInitialDataPreloader;function i(k){var l=k.activeList,m=k.lastActiveTimes;if(l)c("PresenceStatus").setMultiActive(l,"available_list_active");if(m&&!Array.isArray(m))c("LastActiveTimes").update(m)}function j(k){"use strict";this.$ChatproxyPresence1=k;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c("AvailableListInitialData").chatNotif;this.$ChatproxyPresence4=false;if(h)h.onLoaded(i);else i(c("AvailableListInitialData"))}j.prototype.subscribe=function(){"use strict";c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(k,l){if(l)this.$ChatproxyPresence4=l}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("get_debug_presence"),function(k,l){var m=c("PresenceStatus").getAllDebugInfo(),n=c("LastActiveTimes").getDebugData();for(var o in n){var p=m[o];if(p===undefined){p={};m[o]=p}p.l=Math.floor(n[o])}this.$ChatproxyPresence4.issueRequest("/debug_presence",{},m,function(){c("BanzaiODS").bumpEntityKey("ChatproxyPresence","debug_presence.sucess")})}.bind(this))};j.prototype.getRTISession=function(){"use strict";return this.$ChatproxyPresence4};j.prototype.updatePresenceInfo=function(k,l){"use strict";if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c("PresenceStatus").resetPresenceData()}l=l.obj;var m=l.buddyList;c("PresenceStatus").setMultiChatproxy(m);var n=false;if(l.chatNotif!==undefined)n=this.$ChatproxyPresence3!==l.chatNotif;if(n)this.$ChatproxyPresence3=l.chatNotif;if(l.gamers)c("PresenceStatus").setPlayingCanvasGameFriends(l.gamers);if(n)this.$ChatproxyPresence1(c("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c("debounceAcrossTransitions")(function(){this.$ChatproxyPresence1(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};j.prototype.getWebChatNotification=function(){"use strict";return this.$ChatproxyPresence3};f.exports=j}),null);
__d("SystemEvents",["ArbiterMixin","ErrorUtils","SystemEventsInitialData","UserAgent_DEPRECATED","TimeSlice","mixin","setIntervalAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=1e3;h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function k(){i.constructor.call(this);this.USER="SystemEvents/USER";this.ONLINE="SystemEvents/ONLINE";this.TIME_TRAVEL="SystemEvents/TIME_TRAVEL";this.$SystemEvents1=c("SystemEventsInitialData").ORIGINAL_USER_ID;this.$SystemEvents2=this.$SystemEvents1;this.$SystemEvents3=navigator.onLine;this.$SystemEvents4=Date.now();this.$SystemEvents5()}k.prototype.isPageOwner=function(l){return(l||this.$SystemEvents6())==this.$SystemEvents1};k.prototype.isOnline=function(){return!!(c("UserAgent_DEPRECATED").chrome()||this.$SystemEvents3)};k.prototype.checkTimeTravel=function(){var l=Date.now(),m=l-this.$SystemEvents4;this.$SystemEvents4=l;if(m<0||m>1e4)this.inform(this.TIME_TRAVEL,m)};k.prototype.$SystemEvents5=function(){this.$SystemEvents7();this.$SystemEvents8();this.$SystemEvents9();this.$SystemEvents10()};k.prototype.$SystemEvents7=function(){var l=c("TimeSlice").guard(function(){if(!this.$SystemEvents3){this.$SystemEvents3=true;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOnline"),m=c("TimeSlice").guard(function(){if(this.$SystemEvents3){this.$SystemEvents3=false;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOffline");if(c("UserAgent_DEPRECATED").ie())if(c("UserAgent_DEPRECATED").ie()>=11){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}else if(c("UserAgent_DEPRECATED").ie()>=8)window.attachEvent("onload",function(){document.body.ononline=l;document.body.onoffline=m});else c("setIntervalAcrossTransitions")(function(){(navigator.onLine?l:m)()},j);else if(window.addEventListener){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}};k.prototype.$SystemEvents8=function(){c("setIntervalAcrossTransitions")(function(){var l=this.$SystemEvents6();if(this.$SystemEvents2!=l){this.$SystemEvents2=l;this.inform(this.USER,l)}}.bind(this),j)};k.prototype.$SystemEvents9=function(){c("setIntervalAcrossTransitions")(this.checkTimeTravel.bind(this),j)};k.prototype.$SystemEvents10=function(){c("setIntervalAcrossTransitions")(function(){if(window.onerror!=c("ErrorUtils").onerror)window.onerror=c("ErrorUtils").onerror},j)};k.prototype.$SystemEvents6=function(){return/c_user=(\d+)/.test(document.cookie)&&RegExp.$1||"0"};f.exports=new k()}),19);
__d("RTISubscriptionManager",["invariant","ChannelConstants","CurrentLocale","SystemEvents","setTimeoutAcrossTransitions","Arbiter","ErrorUtils","Run","RTISubscriptionManagerConfig","UserActivity","CurrentUser","RTIFriendFanoutConfig"],(function a(b,c,d,e,f,g,h){"use strict";var i={SUBSCRIBE:"s",UNSUBSCRIBE:"u"},j=300,k=20;function l(){this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={};this.$RTISubscriptionManager4=null;this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;this.$RTISubscriptionManager7=false;this.$RTISubscriptionManager8=false;this.$RTISubscriptionManager9=true;this.$RTISubscriptionManager10=document.readyState==="complete";c("Run").onAfterLoad(function(){this.$RTISubscriptionManager10=true;this.flush()}.bind(this));this.$RTISubscriptionManager11=null;c("Arbiter").subscribe(c("ChannelConstants").ON_ENTER_STATE,function(o,p){if(!this.$RTISubscriptionManager11)return;var q=/pull/.test(p.state);if(!this.$RTISubscriptionManager4&&q){this.$RTISubscriptionManager5=true;if(!this.$RTISubscriptionManager6){this.$RTISubscriptionManager6=true;c("setTimeoutAcrossTransitions")(function(){this.$RTISubscriptionManager4=this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;if(this.$RTISubscriptionManager4)this.flush()}.bind(this),l.PULL_HINT_DELAY_MILLIS)}}else if(!q){this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager4=false}else if(q){this.$RTISubscriptionManager4=true;this.flush()}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").ONLINE,function(o,p){if(!p){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").USER,function(o,p){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(o,p){if(!this.$RTISubscriptionManager11&&p)this.deleteSubscriptions(function(q){return q.getState()===i.UNSUBSCRIBE});this.$RTISubscriptionManager11=p;if(this.$RTISubscriptionManager11){this.$RTISubscriptionManager4=true;this.flush()}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$RTISubscriptionManager4=true;this.forEachSubscription(function(o,p){p.setDirty(true)});this.getCurrentSession()}.bind(this));this.getCurrentSession();c("Arbiter").subscribe(c("ChannelConstants").SKYWALKER,function(o,p){var q=p.obj.topic,r={};if(p.obj.payloads===undefined)r.obj=[p.obj.payload];else r.obj=p.obj.payloads;c("Arbiter").inform(c("ChannelConstants").getSkywalkerArbiterType(q),r)})}l.prototype.subscribe=function(o,p,q,r,s){var t=this.subscribeInternal(o,p,q,r,s),u=o.substr(0,o.lastIndexOf("/"));if(!c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK||c("RTIFriendFanoutConfig").topicPrefixes.indexOf(u)<0)return t;var v=o+"_user_id_"+c("CurrentUser").getID();this.subscribeInternal(v,p,q);return t};l.prototype.subscribeInternal=function(o,p,q,r,s){o||h(0);p||h(0);var t=this.getMaxSubscriptions(),u=Object.keys(this.$RTISubscriptionManager1).length-Object.keys(this.$RTISubscriptionManager3).length;if(u>=t){var v=this.getEvictionBatchSize();if(v===0)return null;this.$RTISubscriptionManager2=this.$RTISubscriptionManager2.filter(function(o){return this.isSubscribed(o)&&this.$RTISubscriptionManager1[o].getState()===i.SUBSCRIBE}.bind(this));while(u>=t){if(this.$RTISubscriptionManager2.length==0)return null;for(var w=0;w<v;w++){if(w>=this.$RTISubscriptionManager2.length)break;this.unsubscribe(this.$RTISubscriptionManager2[w]);u--}this.$RTISubscriptionManager2=this.$RTISubscriptionManager2.slice(v)}}q=q||{};q.locale=c("CurrentLocale").get();if(c("RTISubscriptionManagerConfig").assimilator){q.tierType=c("RTISubscriptionManagerConfig").assimilator.tierType;q.sandboxIP=c("RTISubscriptionManagerConfig").assimilator.sandboxIP;q.sandboxPort=c("RTISubscriptionManagerConfig").assimilator.sandboxPort;q.sandboxHostname=c("RTISubscriptionManagerConfig").assimilator.sandboxHostname}var x=new n(o,p,q,r,s);if(this.isSubscribed(o)){var y=this.$RTISubscriptionManager1[o],z=JSON.stringify(x.getContext())===JSON.stringify(y.getContext());if(o in this.$RTISubscriptionManager3)if(z){x.setDirty(false);x.setSent(true);delete this.$RTISubscriptionManager3[o]}else this.flush();else{if(y&&y.getArbiterToken()){c("Arbiter").unsubscribe(y.getArbiterToken());y.setArbiterToken(null)}x.setDirty(y.isDirty());x.setSent(y.isSent());o.startsWith("gqls/")}}var A=new m(x);this.$RTISubscriptionManager1[o]=x;this.$RTISubscriptionManager2.push(o);var B=c("ChannelConstants").getSkywalkerArbiterType(o),C=c("Arbiter").subscribe(B,function(D,event){var E=event.obj.length;for(var F=0;F<E;F++){var G={topic:o,payload:event.obj[F]};c("ErrorUtils").applyWithGuard(p,this,[G])}this.$RTISubscriptionManager12()}.bind(this));x.setArbiterToken(C);this.flush();return A};l.prototype.unsubscribe=function(o){o||h(0);if(o in this.$RTISubscriptionManager1){var p=this.$RTISubscriptionManager1[o];p.prepareUnsubscribe();if(p.getArbiterToken()){c("Arbiter").unsubscribe(p.getArbiterToken());p.setArbiterToken(null)}this.$RTISubscriptionManager3[o]=true}};l.prototype.unsubscribeAll=function(){if(this.isReady()){var o={reset:"t"};this.$RTISubscriptionManager11.issueRequest("/sub",o,{},function(p){})}};l.prototype.activePing=function(){if(this.isReady()){var o={state:"active"};this.$RTISubscriptionManager11.issueRequest("/active_ping",o,{},function(p){})}};l.prototype.flush=function(){var o,p=this;if(this.isReady()&&!this.$RTISubscriptionManager7){var q;(function(){p.$RTISubscriptionManager7=true;p.$RTISubscriptionManager8=false;var r=[],s={},t=false;p.forEachSubscription(function(x,y){if(y.isDirty()){var z="subscriptions",A=s[z];if(!A){A=[];s[z]=A}r.push(y);y.setDirty(false);y.setSent(false);var B={topic:y.getTopic(),state:y.getState(),context:y.getContext()};A.push(B)}else t=true});if(!t&&s.subscriptions&&s.subscriptions.length>0){var u=[];for(q=0;q<s.subscriptions.length;q++)if(s.subscriptions[q].state!==i.UNSUBSCRIBE)u.push(s.subscriptions[q]);s.subscriptions=u;p.$RTISubscriptionManager9=true}var v=function(x){var y=x.data!=null;if(this.$RTISubscriptionManager9&&y)this.$RTISubscriptionManager9=false;for(var z=0;z<r.length;z++){var A=r[z];A.setSent(y);A.setDirty(!y);if(A.getState()===i.SUBSCRIBE){var B=A.getSubscribeCallback();if(B!==null)c("ErrorUtils").applyWithGuard(B,this,[x])}else if(y)delete this.$RTISubscriptionManager3[A.getTopic()]}this.deleteSubscriptions(function(A){return A.getState()===i.UNSUBSCRIBE&&A.isSent()});this.$RTISubscriptionManager7=false;if(this.$RTISubscriptionManager8){this.$RTISubscriptionManager8=false;this.flush()}}.bind(p);if(Object.keys(s).length>0){var w={};if(p.$RTISubscriptionManager9)w.reset="t";p.$RTISubscriptionManager11.issueRequest("/sub",w,s,v)}else p.$RTISubscriptionManager7=false})()}else{this.$RTISubscriptionManager8=true;if(this.$RTISubscriptionManager11===null)this.getCurrentSession()}};l.prototype.deleteSubscriptions=function(o){o||h(0);var p=[];this.forEachSubscription(function(r,s){if(o.apply(this,[s]))p.push(r)});for(var q=0;q<p.length;q++)delete this.$RTISubscriptionManager1[p[q]]};l.prototype.forEachSubscription=function(o){o||h(0);for(var p in this.$RTISubscriptionManager1)if(Object.prototype.hasOwnProperty.call(this.$RTISubscriptionManager1,p))o.apply(this,[p,this.$RTISubscriptionManager1[p]])};l.prototype.getSubscriptions=function(){var o=[];this.forEachSubscription(function(p,q){o.push(q)});return o};l.prototype.isUnflushedUnsubscribe=function(o){o||h(0);return o in this.$RTISubscriptionManager3};l.prototype.isSubscribed=function(o){o||h(0);return o in this.$RTISubscriptionManager1};l.prototype.isReady=function(){if(this.$RTISubscriptionManager11&&this.$RTISubscriptionManager4!==null&&this.$RTISubscriptionManager4&&this.$RTISubscriptionManager10)return true;return false};l.prototype.getCurrentSession=function(){c("Arbiter").inform(c("ChannelConstants").GET_RTI_SESSION_REQUEST)};l.prototype.getEvictionBatchSize=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"eviction_batch_size"))return c("RTISubscriptionManagerConfig").config.eviction_batch_size;else return k};l.prototype.getMaxSubscriptions=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"max_subscriptions"))return c("RTISubscriptionManagerConfig").config.max_subscriptions;else return j};l.prototype.$RTISubscriptionManager12=function(){var o=null,p=null;if(c("RTISubscriptionManagerConfig").config){o=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_min_time_ms;p=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_times_ms}if(!o||!p)return;if(c("UserActivity").isActive(o))return;this.forEachSubscription(function(q,r){var s=r.getTopic(),t=false;if(s.startsWith("gqls/")){var u=s.split("/",2)[1];if(p!==null&&typeof p==="object"&&p[u]!==undefined)t=!c("UserActivity").isActive(p[u]);else t=false}if(t)this.unsubscribe(s)}.bind(this))};function m(o){this.$SubscriptionToken1=o}m.prototype.getContext=function(){return this.$SubscriptionToken1.getContext()};m.prototype.unsubscribe=function(){var o=this.$SubscriptionToken1.getUnsubscribeHook();if(o)o();var p=this.$SubscriptionToken1.getTopic();l.unsubscribe(p);var q=p.substr(0,p.lastIndexOf("/"));if(!c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK||c("RTIFriendFanoutConfig").topicPrefixes.indexOf(q)<0)return;l.unsubscribe(p+"_user_id_"+c("CurrentUser").getID())};m.prototype.fastUnsubscribe=function(){this.unsubscribe();l.flush()};function n(o,p,q,r,s){this.$SubscriptionData1=o;this.$SubscriptionData2=p;this.$SubscriptionData3=true;this.$SubscriptionData4=false;this.$SubscriptionData5=i.SUBSCRIBE;this.$SubscriptionData6=null;this.$SubscriptionData7=Date.now();if(q)this.$SubscriptionData8=q;else this.$SubscriptionData8={};this.$SubscriptionData9=r?r:null;this.$SubscriptionData10=s?s:null}n.prototype.getCreatedTime=function(){return this.$SubscriptionData7};n.prototype.getTopic=function(){return this.$SubscriptionData1};n.prototype.getListener=function(){return this.$SubscriptionData2};n.prototype.getSubscribeCallback=function(){return this.$SubscriptionData9};n.prototype.getUnsubscribeHook=function(){return this.$SubscriptionData10};n.prototype.getArbiterToken=function(){return this.$SubscriptionData6};n.prototype.setArbiterToken=function(o){this.$SubscriptionData6=o};n.prototype.isDirty=function(){return this.$SubscriptionData3};n.prototype.setDirty=function(o){this.$SubscriptionData3=o};n.prototype.getState=function(){return this.$SubscriptionData5};n.prototype.setState=function(o){this.$SubscriptionData5=o};n.prototype.getContext=function(){return this.$SubscriptionData8};n.prototype.isSent=function(){return this.$SubscriptionData4};n.prototype.setSent=function(o){this.$SubscriptionData4=o};n.prototype.prepareUnsubscribe=function(){this.setState(i.UNSUBSCRIBE);this.setDirty(true);this.setSent(false);this.$SubscriptionData2=null};c("Run").onUnload(function(){l.unsubscribeAll()});l.PULL_HINT_DELAY_MILLIS=1e4;Object.keys(l.prototype).forEach(function(o){l[o]=function(){var p=l;return l.prototype[o].apply(p,arguments)}});l.call(l);f.exports=l}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("TypingStates",[],(function a(b,c,d,e,f,g){var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","ErrorUtils","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function a(b,c,d,e,f,g){"use strict";c("BanzaiODS").setEntitySample("presence",1e-4);var h=babelHelpers["extends"]({},c("AvailableListConstants"),c("ArbiterMixin")),i=/\D/;h.subscribe([c("AvailableListConstants").ON_AVAILABILITY_CHANGED,c("AvailableListConstants").ON_UPDATE_ERROR],function(p,q){c("Arbiter").inform(p,q)});c("PresenceStatus").subscribe("change",c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var j=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function k(q,r,s,t,u){if(q===c("CurrentUser").getID())return;var v=c("PresenceStatus").set(q,r,s,t,u);if(v){var w=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,q);c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:q})},0);w()}}function l(q){var r=q.payload.availability||{};for(var s in r)k(s&&s.toString(),r[s].a,true,"mercury_tabs",r[s].c)}function m(q){if(!q||q==="0"||i.test(q)){c("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+q);return}new(c("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:q}).setHandler(l).setErrorHandler(c("emptyFunction")).setAllowCrossPageTransition(true).send()}function n(q,r){r.chat_config=c("ChatConfig").getDebugInfo();r.available_list_debug_info={count:c("PresenceStatus").getOnlineIDs().length}}var o=undefined;try{o=new(c("ChatproxyPresence"))(function(event){h.inform(event)});o.subscribe()}catch(p){c("ErrorUtils").reportError&&c("ErrorUtils").reportError(p,false);c("ChatReliabilityInstrumentation").logERROR(p.getMessage())}Object.assign(h,{getChatproxyPresenceObject:function q(){return o},get:function q(r){return c("PresenceStatus").get(r)},updateForID:function q(r){if(c("ChatConfig").get("presence_page_green_dot_sub")&&!c("FBIDCheck").isUser_deprecated(r))return;m(r);if(c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE)c("Run").onAfterLoad(function(){return c("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(s,t){s.startChannelManager();t.sendAdditionalBuddyRequest(s.getCompleteConfig(),r)},"AvailableList")})},getWebChatNotification:function q(){return o&&o.getWebChatNotification()},isReady:function q(){return!!o},set:function q(r,s,t,u){k(r,s,true,t,u)}});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,n);c("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],j);c("requireWeak")("ChannelConnection",function(q){return q.subscribe([q.CONNECTED,q.RECONNECTING,q.SHUTDOWN,q.MUTE_WARNING,q.UNMUTE_WARNING],j)});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("buddylist_overlay"),function(q,r){var s={},t=r.obj.overlay;for(var u in t){h.set(u,t[u].a,t[u].s||"channel",t[u].vc);if(t[u].la)s[u]=t[u].la}c("LastActiveTimes").update(s)});c("Arbiter").subscribe([c("ChannelConstants").getArbiterType("typ"),c("ChannelConstants").getArbiterType("ttyp")],function(q,r){var s=r.obj;if(s.st===c("TypingStates").TYPING){var t=s.from;if(c("ChatVisibility").isOnline()){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check_typing");var u=c("PresenceStatus").get(t);if(u!=c("AvailableListConstants").ACTIVE){var v=c("LastActiveTimes").get(t)*1e3,w=c("ServerTime").get();if(!v)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence_typing");else if(w-v>5*60*1e3){var x="stale_presence_typing",y=w-v;if(y<10*60*1e3)x+="600";else if(y<60*60*1e3)x+="3600";c("BanzaiODS").bumpEntityKey("presence",x)}}}h.set(t&&t.toString(),c("AvailableListConstants").ACTIVE,"channel-typing")}});c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("messaging"),function(q,r){if(!c("ChatVisibility").isOnline())return;var s=r.obj;if(s.message&&s.message.timestamp&&s.message.sender_fbid){var t=c("ServerTime").get(),u=s.message.timestamp;if(t-u<2*60*1e3){c("BanzaiODS").bumpEntityKey("presence","stale_presence_check");var v=s.message.sender_fbid,w=c("PresenceStatus").get(v);if(w==c("AvailableListConstants").ACTIVE)return;var x=c("LastActiveTimes").get(v)*1e3;if(!x)c("BanzaiODS").bumpEntityKey("presence","no_detailed_presence");else if(u-x>5*60*1e3){var y="stale_presence",z=u-x;if(z<10*60*1e3)y+="600";else if(z<60*60*1e3)y+="3600";c("BanzaiODS").bumpEntityKey("presence",y)}}}});f.exports=h}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({COUNT_UPDATED:null})}),null);
__d("NotificationComponentsBootloader",["Promise","JSResource"],(function a(b,c,d,e,f,g){"use strict";var h=[c("JSResource")("NotificationList.react").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationJewelList.react").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationAsyncWrapper").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationSeenState").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationStore").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationUpdates").__setRef("NotificationComponentsBootloader"),c("JSResource")("NotificationJewelController").__setRef("NotificationComponentsBootloader")];function i(){return new(c("Promise"))(function(j){c("JSResource").loadAll(h,function(k,l,m){j([k,l,m])})})}f.exports={load:i}}),null);
__d("NotificationJewelPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$NotificationJewelPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$NotificationJewelPerformanceTypedLogger1=babelHelpers["extends"]({},this.$NotificationJewelPerformanceTypedLogger1,j);return this};h.prototype.setBadgeCurrentCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_current_count=j;return this};h.prototype.setBadgeInitialCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_initial_count=j;return this};h.prototype.setClientSessionID=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_session_id=j;return this};h.prototype.setClientTimestamp=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_timestamp=j;return this};h.prototype.setEagerLoadTriggerAndDelay=function(j){this.$NotificationJewelPerformanceTypedLogger1.eager_load_trigger_and_delay=j;return this};h.prototype.setEventName=function(j){this.$NotificationJewelPerformanceTypedLogger1.event_name=j;return this};h.prototype.setJewelName=function(j){this.$NotificationJewelPerformanceTypedLogger1.jewel_name=j;return this};h.prototype.setVC=function(j){this.$NotificationJewelPerformanceTypedLogger1.vc=j;return this};var i={badge_current_count:true,badge_initial_count:true,client_session_id:true,client_timestamp:true,eager_load_trigger_and_delay:true,event_name:true,jewel_name:true,vc:true};f.exports=h}),null);
__d("JewelLogger",["NotificationJewelPerformanceTypedLogger","guid"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("NotificationJewelPerformanceTypedLogger"));i=h&&h.prototype;function j(n){i.constructor.call(this);if(!j.$JewelTypedLoggerWithSession2[n])j.$JewelTypedLoggerWithSession2[n]={};this.$JewelTypedLoggerWithSession3=n}j.prototype.setEventName=function(n){this.$JewelTypedLoggerWithSession4=n;return i.setEventName.call(this,n)};j.prototype.log=function(){if(!j.$JewelTypedLoggerWithSession2[this.$JewelTypedLoggerWithSession3][this.$JewelTypedLoggerWithSession4]){j.$JewelTypedLoggerWithSession2[this.$JewelTypedLoggerWithSession3][this.$JewelTypedLoggerWithSession4]=true;this.setClientSessionID(j.$JewelTypedLoggerWithSession1);this.setJewelName(this.$JewelTypedLoggerWithSession3);i.log.call(this)}};j.$JewelTypedLoggerWithSession1=c("guid")();j.$JewelTypedLoggerWithSession2={};function k(n){new j(n.jewelName).setEventName(n.eventName).setClientTimestamp(n.timestamp).log()}function l(n){var o=n.trigger,p=n.eagerLoadDelayInMs,q=babelHelpers.objectWithoutProperties(n,["trigger","eagerLoadDelayInMs"]),r=o+":"+p;new j(n.jewelName).setEventName(q.eventName).setClientTimestamp(q.timestamp).setEagerLoadTriggerAndDelay(r).log()}var m={logDataEagerLoad:function n(o){if(o.eventName==="data_eager_load_trigger")l(o);else k(o)},logJsBootload:function n(o){if(o.eventName==="js_bootload_trigger")l(o);else k(o)},logFirstJewelClick:function n(o){new j(o.jewelName).setEventName("first_jewel_click").setClientTimestamp(o.timestamp).setBadgeInitialCount(o.badgeInitialCount).setBadgeCurrentCount(o.badgeCurrentCount).log()},logJewelListComponentEvent:k};f.exports=m}),null);
__d("arrayStableSort",[],(function a(b,c,d,e,f,g){function h(i,j){return i.map(function(k,l){return{data:k,index:l}}).sort(function(k,l){return j(k.data,l.data)||k.index-l.index}).map(function(k){return k.data})}f.exports=h}),null);
__d("RangedCallbackManager",["CallbackManagerController","arrayStableSort","createObjectFrom"],(function a(b,c,d,e,f,g){function h(i,j,k){"use strict";this.$RangedCallbackManager1=[];this.$RangedCallbackManager2=false;this.$RangedCallbackManager3=false;this.$RangedCallbackManager4={};this.$RangedCallbackManager5=new(c("CallbackManagerController"))(this.$RangedCallbackManager6.bind(this));this.$RangedCallbackManager7=i;this.$RangedCallbackManager8=j;this.$RangedCallbackManager9=k}h.prototype.executeOrEnqueue=function(i,j,k,l,m){"use strict";return this.$RangedCallbackManager5.executeOrEnqueue({start:i,limit:j},k,{strict:!!l,skipOnStrictHandler:m})};h.prototype.unsubscribe=function(i){"use strict";this.$RangedCallbackManager5.unsubscribe(i)};h.prototype.getUnavailableResources=function(i){"use strict";var j=this.$RangedCallbackManager5.getRequest(i),k=[];if(j&&!this.$RangedCallbackManager2){var l=j.request,m=this.$RangedCallbackManager10(j.options),n=l.start+l.limit;for(var o=m.length;o<n;o++)k.push(o)}return k};h.prototype.addResources=function(i){"use strict";i.forEach(function(j){if(!this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=true;this.$RangedCallbackManager1.push(j);this.$RangedCallbackManager3=null}}.bind(this));this.resortResources();this.$RangedCallbackManager5.runPossibleCallbacks()};h.prototype.addResourcesWithoutSorting=function(i,j){"use strict";var k=this.$RangedCallbackManager1.slice(0,j);k=k.concat(i);k=k.concat(this.$RangedCallbackManager1.slice(j));this.$RangedCallbackManager1=k;Object.assign(this.$RangedCallbackManager4,c("createObjectFrom")(i,true));this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks()};h.prototype.removeResources=function(i){"use strict";i.forEach(function(j){if(this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=false;var k=this.$RangedCallbackManager1.indexOf(j);if(k!=-1)this.$RangedCallbackManager1.splice(k,1)}}.bind(this))};h.prototype.removeAllResources=function(){"use strict";this.$RangedCallbackManager1=[];this.$RangedCallbackManager4={}};h.prototype.resortResources=function(){"use strict";this.$RangedCallbackManager1=c("arrayStableSort")(this.$RangedCallbackManager1,function(i,j){return this.$RangedCallbackManager8(this.$RangedCallbackManager7(i),this.$RangedCallbackManager7(j))}.bind(this))};h.prototype.setReachedEndOfArray=function(){"use strict";if(!this.$RangedCallbackManager2){this.$RangedCallbackManager2=true;this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks()}};h.prototype.hasReachedEndOfArray=function(){"use strict";return this.$RangedCallbackManager2};h.prototype.forceRunCallbacks=function(){"use strict";this.$RangedCallbackManager5.runPossibleCallbacks({force:true})};h.prototype.setError=function(i){"use strict";if(this.$RangedCallbackManager3!==i){this.$RangedCallbackManager3=i;this.$RangedCallbackManager5.runPossibleCallbacks()}};h.prototype.getError=function(i,j,k){"use strict";var l=this.$RangedCallbackManager10({strict:k});return i+j>l.length?this.$RangedCallbackManager3:null};h.prototype.hasResource=function(i){"use strict";return this.$RangedCallbackManager4[i]};h.prototype.getResourceAtIndex=function(i){"use strict";return this.$RangedCallbackManager1[i]};h.prototype.getAllResources=function(){"use strict";return this.$RangedCallbackManager1.concat()};h.prototype.getCurrentArraySize=function(i){"use strict";return this.$RangedCallbackManager10(i).length};h.prototype.$RangedCallbackManager10=function(i){"use strict";var j=this.$RangedCallbackManager1;if(i&&i.strict){var k=i.skipOnStrictHandler||this.$RangedCallbackManager9;if(k)j=j.filter(k)}return j};h.prototype.$RangedCallbackManager6=function(i,j){"use strict";var k=this.$RangedCallbackManager10(j),l=i.start,m=i.start+i.limit,n=!!(j&&j.force);if(!n&&!this.$RangedCallbackManager2&&!this.$RangedCallbackManager3&&m>k.length)return false;else{var o=k.slice(l,m),p=m>k.length?this.$RangedCallbackManager3:null;return[o,p]}};h.prototype.getElementsUntil=function(i){"use strict";var j=[];for(var k=0;k<this.$RangedCallbackManager1.length;k++){var l=this.$RangedCallbackManager7(this.$RangedCallbackManager1[k]);if(this.$RangedCallbackManager8(l,i)>0)break;j.push(this.$RangedCallbackManager1[k])}return j};f.exports=h}),null);
__d("flatMapArray",[],(function a(b,c,d,e,f,g){var h=Array.prototype.push;function i(j,k){var l=[];for(var m=0;m<j.length;m++){var n=k.call(j,j[m],m);if(Array.isArray(n))h.apply(l,n);else if(n!=null)throw new TypeError('flatMapArray: Callback must return an array or null, received "'+n.toString()+'" instead')}return l}f.exports=i}),null);
__d("objectValues",[],(function a(b,c,d,e,f,g){function h(i){return Object.values(i)}f.exports=h}),null);
__d("NotificationEndpointState",["BusinessUserConf","KeyedCallbackManager","RangedCallbackManager","flatMapArray","objectValues","react-relay/classic/query/stableStringify"],(function a(b,c,d,e,f,g){h.getInstance=function(i){"use strict";var j=i.classification!=null?i.classification:"_",k=i.filter!=null?i.filter:"_",l="(f)"+k+"(c)"+j,m=h.$NotificationEndpointState1[i.endpointURI];if(m==null)h.$NotificationEndpointState1[i.endpointURI]=m={};if(m[l]==null)m[l]=new h(i);return m[l]};h.getAllInstances=function(i){"use strict";var j=void 0;if(i!=null)j=[i];else j=Object.keys(h.$NotificationEndpointState1);return c("flatMapArray")(j,function(i){var k=h.$NotificationEndpointState1[i];if(k==null)return[];else return c("objectValues")(k)})};function h(i){var j=i.businessUserID,k=i.classification,l=i.endpointURI,m=i.filter;"use strict";this.notifications=new(c("KeyedCallbackManager"))();this.businessUserID=j!=null?j:c("BusinessUserConf").businessUserID;this.classification=k;this.endpointURI=l;this.filter=m;var n=function n(o){var p=this.notifications.getResource(o);return p.creation_time};this.order=new(c("RangedCallbackManager"))(n.bind(this),function(o,p){return p-o});this.graphQLPageInfo=null}h.prototype.getConfig=function(){"use strict";return{businessUserID:this.businessUserID,classification:this.classification,endpointURI:this.endpointURI,filter:this.filter}};h.prototype.getHash=function(){"use strict";return c("react-relay/classic/query/stableStringify")(this.getConfig())};h.prototype.getRequestParams=function(i){"use strict";var j=Math.max(0,i-this.order.getAllResources().length);return{businessUserID:this.businessUserID,classification:this.classification,cursor:this.graphQLPageInfo&&this.graphQLPageInfo.end_cursor,filter:this.filter,length:j}};h.$NotificationEndpointState1={};f.exports=h}),null);
__d("NotificationsDefaultEndpointURI",[],(function a(b,c,d,e,f,g){"use strict";f.exports="/ajax/notifications/client/get.php"}),null);
__d("performanceNowNoFallback",["performance"],(function a(b,c,d,e,f,g){f.exports=c("performance").now?function(){return c("performance").now()}:null}),null);
__d("NotificationEagerLoader",["invariant","Promise","Arbiter","AsyncRequest","JewelLogger","JSResource","NotificationComponentsBootloader","NotificationDataPreloaderConfig","NotificationEndpointState","NotificationListConfig","NotificationsDefaultEndpointURI","Run","performanceAbsoluteNow","performanceNowNoFallback"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("JewelLogger").logDataEagerLoad,j=c("JewelLogger").logJsBootload,k=c("NotificationDataPreloaderConfig").dataPreloader,l=c("NotificationListConfig").dataEagerFetchTrigger,m=c("NotificationListConfig").eagerLoadDelayInMs,n=c("NotificationListConfig").jsBootloadTrigger,o=c("NotificationListConfig").numNotificationsPerPage,p=function(){var B=void 0,C=void 0,D=10,E=l==="page_load"?o:l!=="none"?D:0;return{hasData:E>0,targetNumToLoad:E,endpointState:q(),payloadPromise:new(c("Promise"))(function(F,G){B=F;C=G}),setDependentPromise:function F(G){B||h(0);C||h(0);G.then(B)["catch"](C)}}}();function q(){var B={endpointURI:c("NotificationsDefaultEndpointURI")};return c("NotificationEndpointState").getInstance(B)}function r(B){return c("JSResource")("normalizeNotificationUpdatePayload").__setRef("NotificationEagerLoader").load().then(function(C){return B.then(function(D){return C(D)})})}var s=function(B){return function(){var C=0,D=B.bind(this,C);m===0?D():setTimeout(D,m)}.bind(this)}.bind(this),t=function(B){return function(C,D){var E=D.ts,F=c("performanceAbsoluteNow")()-E,G=m-F,H=B.bind(this,F);G<=0?H():setTimeout(H,G)}.bind(this)}.bind(this),u={browser_dom_content_loaded:function B(C){return document.addEventListener("DOMContentLoaded",s(C))},browser_window_load:function B(C){c("Run").onAfterLoad(s(C))},bigpipe_init:function B(C){return c("Arbiter").subscribeOnce("BigPipe/init",t(C))},bigpipe_tti:function B(C){return c("Arbiter").subscribeOnce("tti_bigpipe",t(C))},bigpipe_pagelets_displayed:function B(C){return c("Arbiter").subscribeOnce("all_pagelets_displayed",t(C))},bigpipe_pagelets_loaded:function B(C){return c("Arbiter").subscribeOnce("all_pagelets_loaded",t(C))}};function v(B){if(!c("performanceNowNoFallback"))c("NotificationComponentsBootloader").load().done();else{j({jewelName:"notifications",eventName:"js_bootload_trigger",trigger:n,timestamp:c("performanceNowNoFallback")()-B,eagerLoadDelayInMs:m});j({jewelName:"notifications",eventName:"js_bootload_start",timestamp:c("performanceNowNoFallback")()});c("NotificationComponentsBootloader").load().done(function(){j({jewelName:"notifications",eventName:"js_bootload_end",timestamp:c("performanceNowNoFallback")()})})}}function w(B){if(c("performanceNowNoFallback")){i({jewelName:"notifications",eventName:"data_eager_load_trigger",trigger:l,timestamp:c("performanceNowNoFallback")()-B,eagerLoadDelayInMs:m});i({jewelName:"notifications",eventName:"data_eager_load_start",timestamp:c("performanceNowNoFallback")()})}}function x(B){w(B);var C=p.targetNumToLoad,D=p.endpointState,E=D.getRequestParams(C),F=new(c("AsyncRequest"))(D.endpointURI).setAllowCrossPageTransition(true).setData(E),G=F.exec().then(function(H){if(c("performanceNowNoFallback"))i({jewelName:"notifications",eventName:"data_eager_load_end",timestamp:c("performanceNowNoFallback")()});return H.getPayload()});p.hasData||h(0);p.setDependentPromise(r(G))}function y(B,C){var D=u[B];D(C)}function z(){A();w(0);k||h(0);var B=new(c("Promise"))(function(C,D){k.onLoaded(function(E){return C(E)});k.onError(D)});if(c("performanceNowNoFallback"))B.done(function(C){i({jewelName:"notifications",eventName:"data_eager_load_end",timestamp:c("performanceNowNoFallback")()})});p.hasData||h(0);p.setDependentPromise(r(B))}function A(){var B=l,C=k,D=B==="none"&&C===null,E=B==="page_load"&&C!=null,F=B!=="page_load"&&B!=="none"&&C===null;D||E||F||h(0)}if(n!=="none")y(n,v);if(l==="page_load")z();else if(l!=="none")y(l,x);f.exports={eagerlyLoadedData:{hasData:p.hasData,targetNumToLoad:p.targetNumToLoad,endpointState:p.endpointState,payloadPromise:p.payloadPromise}}}),null);
__d("LegacyMentionsInput.react",["cx","FocusListener","Bootloader","TypeaheadMetricsConfig","Event","Keys","React","ReactDOM"],(function a(b,c,d,e,f,g,h){var i,j;c("FocusListener");var k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.hasEnteredText=function(){return!!(this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput2.getValue().trim())}.bind(this),this.submitComment=function(event){var r;if(event)r=event.target.value&&event.target.value.trim();else{var s=c("ReactDOM").findDOMNode(this.refs.textarea);if(s.value&&s.value!==s.placeholder)r=s.value}r=r||"";var t={visibleValue:r,encodedValue:r};if(this.$ReactLegacyMentionsInput2)t.encodedValue=this.$ReactLegacyMentionsInput2.getRawValue().trim();var u=this.props.onEnterSubmit(t,event);if(u&&this.$ReactLegacyMentionsInput2){this.$ReactLegacyMentionsInput2.reset();event&&event.preventDefault()}}.bind(this),this.$ReactLegacyMentionsInput3=function(event){var r=event.nativeEvent,s=c("Event").getKeyCode(r)==c("Keys").RETURN&&!c("Event").$E(r).getModifiers().any,t=this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput2.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&s&&!t)this.submitComment(event)}.bind(this),this.$ReactLegacyMentionsInput4=function(){this.props.onFocus&&this.props.onFocus();this.$ReactLegacyMentionsInput1(c("ReactDOM").findDOMNode(this.refs.root))}.bind(this),this.$ReactLegacyMentionsInput5=function(){this.props.onBlur&&this.props.onBlur()}.bind(this),this.$ReactLegacyMentionsInput1=function(r){if(this.props.disableInitTextarea||this.$ReactLegacyMentionsInput2||this.$ReactLegacyMentionsInput6)return;this.$ReactLegacyMentionsInput6=true;c("Bootloader").loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(s,t,u,v,w,x,y,z,A,B,C,D,E){var F=c("ReactDOM").findDOMNode(this.refs.textarea);new w(F);if(this.props.onTypingStateChange){var G=new D(F);G.init();G.subscribe("change",this.props.onTypingStateChange)}var H={autoSelect:true,renderer:s,causalElement:F,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)H.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)H.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var I=new x(this.props.datasource,{ctor:t,options:H},{ctor:y},c("ReactDOM").findDOMNode(this.refs.typeahead)),J=[z,A];if(c("TypeaheadMetricsConfig").gkResults){var K=new C({extraData:{event_name:"mention_metric_x"}});K.init(I)}var L=new B({extraData:{event_name:"mentions",from_location:"comments"}});x.initNow(I,J,L);this.$ReactLegacyMentionsInput2=new v(r,I,F,{hashtags:this.props.hashtags});this.$ReactLegacyMentionsInput2.init({},this.props.initialData);if(this.props.initialData)u.set(F,F.value.length);if(this.props.onPaste)c("Event").listen(F,"paste",this.props.onPaste);if(this.props.onContentChange)this.$ReactLegacyMentionsInput7=this.$ReactLegacyMentionsInput2.subscribe("valueUpdate",function(M,N){var O=N.value;this.props.onContentChange(O)}.bind(this));this.$ReactLegacyMentionsInput6=false}.bind(this),"LegacyMentionsInput.react")}.bind(this),this.focus=function(){try{c("ReactDOM").findDOMNode(this.refs.textarea).focus()}catch(r){}}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";this.props.initialData&&this.$ReactLegacyMentionsInput1(c("ReactDOM").findDOMNode(this))};l.prototype.getText=function(){"use strict";return this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput2.getRawValue().trim()};l.prototype.componentWillUnmount=function(){"use strict";if(this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput7)this.$ReactLegacyMentionsInput2.unsubscribe(this.$ReactLegacyMentionsInput7)};l.prototype.render=function(){"use strict";var m="textInput mentionsTextarea uiTextareaAutogrow uiTextareaNoResize UFIAddCommentInput _2xww";return c("React").createElement("div",{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput _2xwx"},c("React").createElement("div",{className:"highlighter"},c("React").createElement("div",null,c("React").createElement("span",{className:"highlighterContent hidden_elem"}))),c("React").createElement("div",{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},c("React").createElement("div",{className:"wrap"},c("React").createElement("input",{type:"hidden",autoComplete:"off",className:"hiddenInput"}),c("React").createElement("div",{className:"innerWrap"},c("React").createElement("textarea",{ref:"textarea",name:"add_comment_text",className:m,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this.$ReactLegacyMentionsInput4,onBlur:this.$ReactLegacyMentionsInput5,onKeyDown:this.$ReactLegacyMentionsInput3})))),c("React").createElement("input",{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""}))};l.propTypes={initialData:k.object,disableInitTextarea:k.bool,placeholder:k.string,datasource:k.object,ref:k.string,viewOptionsTypeObjects:k.object,viewOptionsTypeObjectsOrder:k.array,hashtags:k.bool,autoflip:k.bool,onEnterSubmit:k.func,onFocus:k.func,onBlur:k.func,onContentChange:k.func,onTypingStateChange:k.func,onPaste:k.func};f.exports=l}),null);
__d("UFICommentFilterFallbackWarning.react",["cx","fbt","React","UFIPagerGenerator","UFIPaging","WebCommentViewOption","distinctArrayBy"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;function l(n,o,p){var q=o.availableComments,r=o.repliesMap,s=void 0;if(p)s=r[n]||[];else s=q||[];s=c("distinctArrayBy")(s,function(t){return t.id});return s.length}j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.shouldRender=function(n,o,p,q){if(!n)return false;var r=n.availableComments,s=n.commentCounts,t=n.deletedCounts,u=n.hasPagedToplevel,v=n.orderingMode,w=n.ranges,x=n.repliesExpandedMap,y=n.repliesMap;if(!r||!s||!t||!v||!w||!x||!y)return false;var z=Math.max((s[o]||0)-(t[o]||0),0),A=w[o];if(!A||!z||v!==c("WebCommentViewOption").FILTERED||q&&!x[o]||!q&&!u)return false;var B=l(o,n,q),C=A.isLoadingPrev(),D=A.isLoadingNext(),E=A.getOffset(),F=A.getLength(),G=c("UFIPagerGenerator").isBottomPager(q,v),H=Math.min(F,z);if(p===c("UFIPaging").ALL)return!C&&!D&&E===0&&F>=z&&B<H;else if(!G&&p===c("UFIPaging").TOP||G&&p===c("UFIPaging").BOTTOM)return!C&&E===0&&B<H;else if(!G&&p===c("UFIPaging").BOTTOM||G&&p===c("UFIPaging").TOP)return!D&&E+F>=z&&B<H;return false};m.prototype.$UFICommentFilterFallbackWarning1=function(){var n=this.props,o=n.asReplyWarning,p=n.ufiProps,q=p||{},r=q.feedback,s=q.orderingMode,t=r&&r.orderingmodes||[],u=t.find(function(w){return w&&w.value===s}),v=u&&u.name;if(o)if(v)return i._("{ordering mode name} is selected, so some replies may have been filtered out.",[i.param("ordering mode name",v)]);else return i._("Some replies may have been filtered out by the selected ordering mode.");else if(v)return i._("{ordering mode name} is selected, so some comments may have been filtered out.",[i.param("ordering mode name",v)]);else return i._("Some comments may have been filtered out by the selected ordering mode.")};m.prototype.render=function(){var n=this.props,o=n.ufiProps,p=n.targetID,q=n.pagingDirection,r=n.asReplyWarning;if(!this.constructor.shouldRender(o,p,q,r))return null;return c("React").createElement("div",{className:"_2ah8 _4oep UFIRow"},c("React").createElement("div",{className:"_2ah9"},this.$UFICommentFilterFallbackWarning1()))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("UFIShareNowMenuBootloader.react",["BootloadedComponent.react","JSResource","React","UFIShareLink.react"],(function a(b,c,d,e,f,g){"use strict";var h,i,j="ufi_share_link_placeholder",k="ufi_share_link_loaded";h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={openOnInit:false,focusOnInit:false,interacted:false},n}l.prototype.render=function(){var m=this.state,n=m.openOnInit,o=m.focusOnInit,p=m.interacted,q=this.props,r=q.endpoint,s=q.endpointData,t=q.onShow,u=q.onHide,v=q.openOnInitOverride,w=c("React").createElement(c("UFIShareLink.react"),{href:"#","data-testid":j,onClick:function(){return this.setState({interacted:true,openOnInit:true})}.bind(this),onFocus:function(){return this.setState({interacted:true,focusOnInit:true})}.bind(this),onMouseOver:function(){return this.setState({openOnInit:false,focusOnInit:false,interacted:true})}.bind(this)});if(p||v)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIShareNowMenu.react").__setRef("UFIShareNowMenuBootloader.react"),bootloadPlaceholder:w,endpoint:r,endpointData:s,onShow:t,onHide:u,openOnInit:n||v,focusOnInit:o,testID:k});return w};f.exports=l}),null);
__d("promiseFinally",["Promise"],(function a(b,c,d,e,f,g){function h(i,j){return i.then(function(k){return c("Promise").resolve(j()).then(function(){return k})},function(k){return c("Promise").resolve(j()).then(function(){throw k})})}f.exports=h}),null);
__d("createObjectBy",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k={};for(var l=0;l<i.length;l++){var m=i[l],n=j(m,l,i);k[n]=m}return k}f.exports=h}),null);
__d("MessengerWebDriverTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",INFO_PANEL_BUTTON:"info_panel_button",INFO_PANEL_TOGGLER_OPTION:"info_panel_toggler_option",STICKER:"sticker"})}),null);
__d("WorkInviteSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RHC_MODULE:"rhc_module",FEED_END_STATE:"feed_end_state",NEWSFEED_NUX:"newsfeed_nux",BULK_UPLOAD:"bulk_upload",GROUP_BULK_UPLOAD:"group_bulk_upload",GROUP_BULK_UPLOAD_FROM_SETTINGS:"group_bulk_upload_from_settings",GROUP_BULK_UPLOAD_FROM_RHC:"group_bulk_upload_from_rhc",GROUP_BULK_UPLOAD_FROM_MEMBERS:"group_bulk_upload_from_members",GROUP_INVITE_DIALOG:"group_invite_dialog",GROUP_INVITE_TYPEAHEAD:"group_invite_typeahead",GROUP_RHC_LINK:"group_rhc_link",GROUP_WORK_GOAL:"group_work_goal",SEARCH_RESULT:"search_result",SEARCH_RHC:"search_rhc",SEARCH_TYPEAHEAD:"search_typeahead",INSTANCE_INVITE_LINK:"instance_invite_link",SIGN_UP:"sign_up",SIGN_UP_CHAT_FIRST:"sign_up_chat_first",SIGN_UP_NON_GENESIS:"sign_up_non_genesis",SIGN_UP_M_SITE:"sign_up_m_site",SETUP_TEAM_SIGNUP_STEP:"setup_team_signup_step",SETUP_TEAM_SIGNUP_STEP_CHAT_FIRST:"setup_team_signup_step_chat_first",FORWARD_INVITE_EMAIL:"forward_invite_email",WORK_GOALS:"work_goals",ACCESS_REQUESTED:"access_requested",ADMIN_ADD_PEOPLE_LINK:"admin_app_people_link",AZURE:"azure",AZURE_BULK:"azure_bulk",GSUITE:"gsuite",GSUITE_BULK:"gsuite_bulk",SELF_INVITE:"self_invite",SELF_INVITE_VIA_INVITE_LINK:"self_invite_via_invite_link",SELF_INVITE_VIA_SSO:"self_invite_via_sso",WORKPLACE_FB_COM:"workplace_fb_com",MCG_EXTERNAL_INVITE:"mcg_external_invite",M2_ADS_TO_NGO:"m2_ads_to_ngo",M2_AYMT_TO_NGO:"m2_aymt_to_ngo",MOBILE_APP_CLAIM:"mobile_app_claim",COMPANY_SUBDOMAIN_LOGIN_PAGE:"company_subdomain_login_page",WORK_FACEBOOK_COM:"work_facebook_com",AYMT:"aymt",TESTS:"tests",E2E_TESTS:"e2e_tests",WWW_BOOKMARK:"www_bookmark",MSITE_BOOKMARK:"msite_bookmark",WWW_BLUEBAR:"www_bluebar",WWW_BLUEBAR_LINK:"www_bluebar_link",WWW_CHAT_SIDEBAR:"www_chat_sidebar",WWW_SIDEBAR_PENDING_SECTION:"www_sidebar_pending_section",WWW_CHAT_THREAD_LIST:"www_chat_thread_list",WWW_FEED_QP:"www_feed_qp",ANDROID_APP:"android_app",ANDROID_INVITE_OPTION_PICKER:"android_invite_option_picker",ANDROID_TYPED_EMAIL:"android_typed_email",ANDROID_GROUP_TYPED_EMAIL:"android_group_typed_email",ANDROID_CONTACT_EMAIL:"android_contact_email",ANDROID_ALL_CONTACT_EMAILS:"android_all_contact_emails",IOS_APP:"ios_app",IOS_GROUP_TYPED_EMAIL:"ios_group_typed_email",IOS_INSTANCE_TYPED_EMAIL:"ios_instance_typed_email",IOS_CONTACT_EMAIL:"ios_contact_email",IOS_ALL_CONTACT_EMAILS:"ios_all_contact_emails",SIGNUP4_E2E_STANDARD_GENESIS:"signup4_e2e_test_standard_genesis",SIGNUP4_E2E_PREMIUM_GENESIS:"signup4_e2e_test_premium_genesis",WORK_MANAGED_CLAIM_TEST:"work_managed_claim_test",UNKNOWN:"unknown"})}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}})}),null);
__d("XWorkInviteCoworkersDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/work/invite_coworkers/dialog/",{source:{type:"Enum",required:true,enumType:1},source_product:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);